<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script src="js/jquery-1.11.1.min.js"></script>
    <title>HRB</title>
</head>
<body>

<div class="container-fluid">

    <div class="row" style="margin: 15px" >

        <div class="col-sm-offset-1 col-sm-4">
            <button id="fb_login" type="button" class="btn btn-primary">Log in with Facebook</button>
        </div>

    </div>

    <div class="row">

        <label class="col-sm-offset-2 h3 control-label text-center">Poll</label>

        <form id="form" class="form-horizontal" role="form">

            <!--age-->
            <div class="form-group">

                <label for="inputAge" class="col-sm-2 control-label">Age</label>
                <div class="col-sm-2">
                    <input type="text" class="form-control" id="inputAge" placeholder="Age">
                </div>

            </div>

            <!--gender-->
            <div class="form-group">

                <label for="inputGender" class="col-sm-2 control-label">Gender</label>
                <div id="inputGender" class="col-sm-6">
                    <div class="checkbox">
                        <label>
                            <input id="cb_female" type="checkbox"> Female
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_male" type="checkbox"> Male
                        </label>
                    </div>
                </div>

            </div>

            <!--religion-->
            <div class="form-group">

                <label for="inputReligion" class="col-sm-2 control-label">Religion</label>
                <div id="inputReligion" class="col-sm-6">
                    <div class="checkbox">
                        <label>
                            <input id="cb_none" type="checkbox"> None
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_christian_other" type="checkbox"> Christian other
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_catholic" type="checkbox"> Catholic
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_jewish" type="checkbox"> Jewish
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_lutheran" type="checkbox"> Lutheran
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_mormon" type="checkbox"> Mormon
                        </label>
                    </div>
                </div>

            </div>

            <!--politics-->
            <div class="form-group">

                <label for="inputPolitics" class="col-sm-2 control-label">Politics</label>
                <div id="inputPolitics" class="col-sm-6">
                    <div class="checkbox">
                        <label>
                            <input id="cb_conservative" type="checkbox"> Conservative
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_liberal" type="checkbox"> Liberal
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_uninvolved" type="checkbox"> Uninvolved
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_libertanian" type="checkbox"> Libertanian
                        </label>
                    </div>
                </div>

            </div>

            <!--relationship-->
            <div class="form-group">

                <label for="inputRelationship" class="col-sm-2 control-label">Relationship</label>
                <div id="inputRelationship" class="col-sm-6">
                    <div class="checkbox">
                        <label>
                            <input id="cb_yes" type="checkbox"> Yes
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input id="cb_no" type="checkbox"> No
                        </label>
                    </div>
                </div>

            </div>


            <div class="form-group" style="margin: 15px">
                <div class="col-sm-offset-1 col-sm-10">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </div>



        </form>



    </div>

</div>


<script>

    var age;
    var gender;
    var religion;
    var politics;
    var relationship;

    var json_obj;


    $( "#form" ).submit(function( event ) {

        event.preventDefault();

        age = $("#inputAge").val();

        //gender
        if( $("#cb_female").is(":checked")){
            gender = "female";
        }
        else if( $("#cb_male").is(":checked")){
            gender = "male";
        }


        //religion
        if( $("#cb_none").is(":checked")){
            religion = "none";
        }
        else if( $("#cb_christian_other").is(":checked")){
            religion = "christian_other";
        }
        else if( $("#cb_catholic").is(":checked")){
            religion = "catholic";
        }
        else if( $("#cb_jewish").is(":checked")){
            religion = "jewish";
        }
        else if( $("#cb_lutheran").is(":checked")){
            religion = "lutheran";
        }
        else if( $("#cb_mormon").is(":checked")){
            religion = "mormon";
        }

        //politics
        if( $("#cb_conservative").is(":checked")){
            politics = "conservative";
        }
        else if( $("#cb_liberal").is(":checked")){
            politics = "liberal";
        }
        else if( $("#cb_uninvolved").is(":checked")){
            politics = "uninvolved";
        }
        else if( $("#cb_libertanian").is(":checked")){
            politics = "libertanian";
        }

        //relationship
        if( $("#cb_yes").is(":checked")){
            relationship = "yes";
        }
        else if( $("#cb_no").is(":checked")){
            relationship = "no";
        }

        json_obj = {"age": age ,"gender": gender ,"religion": religion, "politics": politics, "relationship":relationship };

        json_obj_final = {"uid": "12345" ,"user_likes": ["12","13","14"], "user_poll_answers": json_obj};

        var request = $.ajax({
            type: "POST",
            url: "http://192.168.0.12/finkihrb/parseUserData.php",
            data: {data: json_obj_final},
            dataType: "json"
        });

        request.fail(function( jqXHR, textStatus ) {
            alert( "fail " + textStatus);
        });

    });

</script>



</body>
</html>